/**
 * 
 * @authors Roc (rochuang@xtremeprog.com)
 * @date    2015-04-08 10:26:20
 * @version V1.0
 */
 (function($){$.fn.Roc_AQ=function(options){var defaults={start:1,minValue:1,maxValue:100};if(options){$.extend(defaults,options)}return this.each(function(index){var self=$(this);if(self.context.childElementCount){var $input=self.find("input[name='number']");var $reduce=self.find("a.num-reduce");var $increase=self.find("a.num-increase");var value=$input.val();if(value>=defaults.maxValue){$input.val(defaults.maxValue);$increase.addClass("disable-increase")}else{$increase.removeClass("disable-increase")}if(value<=defaults.minValue){$input.val(defaults.minValue);$reduce.addClass("disable-increase")}else{$reduce.removeClass("disable-reduce")}}else{var $reduce=$("<a></a>").attr("class","num-reduce").html("-");if(defaults.start<=defaults.minValue){$reduce.addClass("disable-reduce")}var $input=$("<input />").attr({"class":"num-input","name":"number","value":defaults.start});var $increase=$("<a></a>").attr("class","num-increase").html("+");if(defaults.start>=defaults.maxValue){$increase.addClass("disable-increase")}self.empty().append($reduce,$input,$increase)}var minValue=defaults.minValue;var maxValue=defaults.maxValue;var $input=self.find("input[name='number']");var $reduce=self.find("a.num-reduce");var $increase=self.find("a.num-increase");$input.unbind().bind("keyup",function(event){var value=parseInt($(this).val().replace(/[^0-9]/g,""));$reduce.removeClass("disable-reduce");$increase.removeClass("disable-increase");if(!value||value<=minValue){value=minValue;$reduce.addClass("disable-reduce")}else{if(value>=maxValue){value=maxValue;$increase.addClass("disable-increase")}}$input.val(value);if(defaults.inputCallback){defaults.reduceCallback(value,self)}});$reduce.unbind().bind("click",function(event){var value=parseInt($input.val());value--;$increase.removeClass("disable-increase");if(value<=minValue){value=minValue;$(this).addClass("disable-reduce")}$input.val(value);if(defaults.reduceCallback){defaults.reduceCallback(value,self)}});$increase.unbind().bind("click",function(event){var value=parseInt($input.val());value++;$reduce.removeClass("disable-reduce");if(value>=maxValue){value=maxValue;$(this).addClass("disable-increase")}$input.val(value);if(defaults.increaseCallback){defaults.increaseCallback(value,self)}})})}})(jQuery);